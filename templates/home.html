{% extends "base.html" %}

{% block content %}
<section style="text-align: center; padding: 3rem 0;">
    <hgroup>
        <h1 style="font-size: 2.5rem; margin-bottom: 1rem;">{{ layout.brand_name }}</h1>
        <p style="font-size: 1.25rem; color: var(--pico-muted-color);">Secure file sharing, streamlined for teams.</p>
    </hgroup>
    <div class="button-group" style="justify-content: center; margin-top: 2rem;">
        {% if layout.current_user.is_some() %}
        <a role="button" href="/upload" class="icon-button">
            <i data-feather="upload"></i>
            Upload a file
        </a>
        <a role="button" class="secondary outline" href="/settings">Settings</a>
        {% else %}
        <a role="button" href="/login" class="icon-button">
            <i data-feather="log-in"></i>
            Log in
        </a>
        {% endif %}
    </div>
</section>

{% if layout.current_user.is_some() %}
<section>
    <hgroup>
        <h2><i data-feather="clock" style="width: 24px; height: 24px; vertical-align: middle; margin-right: 0.5rem;"></i>Recent uploads</h2>
    </hgroup>
    {% if recent_uploads.is_empty() %}
    <article>
        <p style="text-align: center; color: var(--pico-muted-color); padding: 2rem;">
            No uploads yet. <a href="/upload">Upload your first file</a> to get started.
        </p>
    </article>
    {% else %}
    <div class="table-wrapper">
        <table role="grid">
            <thead>
                <tr>
                    <th scope="col">File name</th>
                    <th scope="col">Code</th>
                    <th scope="col">Size</th>
                    <th scope="col">Uploaded</th>
                </tr>
            </thead>
            <tbody>
            {% for upload in recent_uploads %}
                <tr>
                    <td>
                        <a href="/f/{{ upload.code }}" style="font-weight: 500;">
                            <i data-feather="file" style="width: 16px; height: 16px; vertical-align: middle; margin-right: 0.5rem;"></i>
                            {{ upload.original_name }}
                        </a>
                    </td>
                    <td><code style="font-size: 0.875rem;">{{ upload.code }}</code></td>
                    <td>{{ upload.size_display }}</td>
                    <td><time>{{ upload.created_display }}</time></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    {% endif %}
</section>
{% endif %}
{% endblock %}
